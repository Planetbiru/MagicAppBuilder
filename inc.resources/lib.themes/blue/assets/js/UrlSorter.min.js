class UrlSorter{constructor(r=window.location.toString()){this.originalUrl=r,this.originalQueryParams={},this.currentOrderBy="",this.currentOrderType="",this.newOrderBy="",this.newOrderType="",this._parseUrl()}_parseUrl(){let r=this.originalUrl.split("#")[0].split("?");this.baseURL=r[0];let e=this.baseURL.split("/");this.baseName=e[e.length-1]||"";let t=r[1]||"",i=new URLSearchParams(t);for(let[s,a]of i.entries()){let n=s.endsWith("[]")?s.slice(0,-2):s;s.endsWith("[]")?(Array.isArray(this.originalQueryParams[n])||(this.originalQueryParams[n]=[]),this.originalQueryParams[n].push(a)):this.originalQueryParams.hasOwnProperty(n)?(Array.isArray(this.originalQueryParams[n])||(this.originalQueryParams[n]=[this.originalQueryParams[n]]),this.originalQueryParams[n].push(a)):this.originalQueryParams[n]=a}this.currentOrderBy=this.originalQueryParams.orderby||"",this.currentOrderType=this.originalQueryParams.ordertype||"",this.newOrderBy=this.currentOrderBy,this.newOrderType=this.currentOrderType}getOrderBy(){return this.currentOrderBy}getOrderType(){return this.currentOrderType}setOrderBy(r){this.newOrderBy=r}setOrderType(r){this.newOrderType=r}getOriginalQueryParams(){let r={...this.originalQueryParams};return delete r.orderby,delete r.ordertype,r}buildRelativeUrl(){let r={...this.originalQueryParams};this.newOrderBy?r.orderby=this.newOrderBy:delete r.orderby,this.newOrderType?r.ordertype=this.newOrderType:delete r.ordertype;let e=[];for(let t in r)if(r.hasOwnProperty(t)){let i=r[t];Array.isArray(i)?i.forEach(r=>{null!=r&&""!==r&&e.push(`${encodeURIComponent(t)}[]=${encodeURIComponent(r)}`)}):null!=i&&""!==i&&e.push(`${encodeURIComponent(t)}=${encodeURIComponent(i)}`)}let s=e.join("&"),a=this.baseName;return s&&(a+="?"+s),a}}