class GraphQLSchemaUtils{static reservedTypes=["String","Int","Float","Boolean","ID"];static toSnakeCase(e){return e.replace(/([A-Z])/g,(e,t,a)=>(a>0?"_":"")+t.toLowerCase())}static toCamelCase(e){return e.replace(/_([a-z])/g,(e,t)=>t.toUpperCase())}static normalizeNameForComparison(e){return e.replace(/[_\s]/g,"").toLowerCase()}static normalizeEntity(e,t="snake"){let a={};for(let[s,i]of Object.entries(e)){let r=s;"snake"===t?r.includes("_")||(r=this.toSnakeCase(r)):"camel"===t&&r.includes("_")&&(r=this.toCamelCase(r)),a[r]=i.map(a=>{let{name:s,type:i,nullable:r}=a;if(!this.reservedTypes.includes(i)){let n=i;/id$/i.test(s)||(s=this.normalizeNameForComparison(s)===this.normalizeNameForComparison(n)?s+"Id":s);let l=e[n];if(l){let o=l.find(e=>this.normalizeNameForComparison(e.name)===this.normalizeNameForComparison(s));o&&(i=o.type)}}let p=s.includes("_");return"camel"===t?p&&(s=this.toCamelCase(s)):"snake"===t&&!p&&/[a-z][A-Z]/.test(s)&&(s=this.toSnakeCase(s)),"ID"===i&&(i="String"),{name:s,type:i,nullable:r}})}return a}static parseGraphQLSchema(e){let t={types:{},inputs:{}},a=/(type|input)\s+(\w+)\s*\{([\s\S]*?)\}/g,s;for(;null!==(s=a.exec(e));){let i=s[1],r=s[2],n=s[3];if("Query"===r)continue;let l=[],o=/(\w+):\s*([\w!]+)/g,p;for(;null!==(p=o.exec(n));){let m=p[1],c=p[2],u=c.endsWith("!");u&&(c=c.slice(0,-1)),l.push({name:m,type:c,nullable:!u})}"type"===i?t.types[r]=l:"input"===i&&(t.inputs[r]=l)}return t}}