class ResizablePanels{constructor(e,t,i,s,h=100){this.selector=e,this.leftPanel=document.querySelector(e+" "+t),this.rightPanel=document.querySelector(e+" "+i),this.resizeBar=document.querySelector(e+" "+s),this.minWidth=h,this.isResizing=!1,this.lastDownX=0,this.localStorageKey=this.selector+"leftPanelWidth",this.init()}init(){this.resizeBar.addEventListener("mousedown",e=>this.startResizing(e)),window.addEventListener("resize",()=>this.onWindowResize()),this.loadPanelWidth()}startResizing(e){this.isResizing=!0,this.lastDownX=e.clientX,document.addEventListener("mousemove",e=>this.handleMouseMove(e)),document.addEventListener("mouseup",()=>this.stopResizing())}handleMouseMove(e){if(this.isResizing){let t=e.clientX-this.lastDownX,i=this.leftPanel.offsetWidth+t;if(i>=this.minWidth&&i<=window.innerWidth-this.minWidth){let s=this.leftPanel.parentNode.offsetWidth,h=s-i-10;h<this.minWidth&&(i=s-this.minWidth-10,h=this.minWidth),this.leftPanel.style.width=i+"px",this.rightPanel.style.width=h+"px",this.lastDownX=e.clientX,localStorage.setItem(this.localStorageKey,i)}}}stopResizing(){this.isResizing=!1,document.removeEventListener("mousemove",e=>this.handleMouseMove(e)),document.removeEventListener("mouseup",()=>this.stopResizing()),editor.renderEntities()}doResize(e){if(e){let t=parseInt(e,10),i=this.leftPanel.parentNode.offsetWidth,s=i-t-10;s<this.minWidth&&(t=i-(s=this.minWidth)-10),this.leftPanel.style.width=t+"px",this.rightPanel.style.width=s+"px"}}getLeftPanelWidth(){return parseInt(localStorage.getItem(this.localStorageKey))}loadPanelWidth(){this.doResize(this.getLeftPanelWidth())}onWindowResize(){this.doResize(this.getLeftPanelWidth())}}