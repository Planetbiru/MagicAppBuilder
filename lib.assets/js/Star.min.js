jQuery(function(a){a(document).on("click",".application-item .card-body .mark-stared, .application-item .card-body .mark-unstared, .workspace-item .card-body .mark-stared, .workspace-item .card-body .mark-unstared",function(t){t.preventDefault();let i=a(this),e=i.closest(".application-item, .workspace-item"),n,p,c,o;e.hasClass("application-item")?(n="application",p=e.attr("data-application-id"),c="lib.ajax/set-star-application.php",o=loadApplicationList):e.hasClass("workspace-item")&&(n="workspace",p=e.attr("data-workspace-id"),c="lib.ajax/set-star-workspace.php",o=loadWorkspaceList);let r=i.find("i").hasClass("fa-solid");increaseAjaxPending(),a.ajax({url:c,type:"POST",data:{[`${n}Id`]:p,star:r?0:1},success:function(a){decreaseAjaxPending(),o()},error:function(a,t,i){decreaseAjaxPending(),console.error(`Failed to change ${n} star status:`,t,i)}})}),a(document).on("click",".application-item .card-body .mark-hidden, .application-item .card-body .mark-unhidden",function(t){t.preventDefault();let i=a(this),e=i.closest(".application-item"),n=e.attr("data-application-id"),p=i.hasClass("mark-unhidden"),c=!p;c&&a('.application-item[data-application-id="'+n+'"]').parent().addClass("d-none"),increaseAjaxPending(),a.ajax({url:"lib.ajax/set-hidden-application.php",type:"POST",data:{applicationId:n,hidden:c?1:0},success:function(t){decreaseAjaxPending(),c?n==a('meta[name="application-id"]').attr("content")&&loadAllResource():loadApplicationList(!0)},error:function(a,t,i){decreaseAjaxPending(),console.error("Failed to change hidden status:",t,i)}})})});