jQuery(function(a){a(document).on("click",".application-item .card-body .mark-stared, .application-item .card-body .mark-unstared, .workspace-item .card-body .mark-stared, .workspace-item .card-body .mark-unstared",function(t){t.preventDefault();let i=a(this),e=i.closest(".application-item, .workspace-item"),n,s,p,r;e.hasClass("application-item")?(n="application",s=e.attr("data-application-id"),p="lib.ajax/set-star-application.php",r=loadApplicationList):e.hasClass("workspace-item")&&(n="workspace",s=e.attr("data-workspace-id"),p="lib.ajax/set-star-workspace.php",r=loadWorkspaceList);let c=i.find("i").hasClass("fa-solid");increaseAjaxPending(),a.ajax({url:p,type:"POST",data:{[`${n}Id`]:s,star:c?0:1},success:function(a){decreaseAjaxPending(),r()},error:function(a,t,i){decreaseAjaxPending(),console.error(`Failed to change ${n} star status:`,t,i)}})}),a(document).on("click",".application-item .card-body .mark-hidden, .application-item .card-body .mark-unhidden",function(t){t.preventDefault();let i=a(this),e=i.closest(".application-item"),n=e.attr("data-application-id"),s=i.hasClass("mark-unhidden"),p=!s;p&&a('.application-item[data-application-id="'+n+'"]').parent().addClass("d-none"),increaseAjaxPending(),a.ajax({url:"lib.ajax/set-hidden-application.php",type:"POST",data:{applicationId:n,hidden:p?1:0},success:function(a){decreaseAjaxPending(),p||loadApplicationList(!0)},error:function(a,t,i){decreaseAjaxPending(),console.error("Failed to change hidden status:",t,i)}})})});