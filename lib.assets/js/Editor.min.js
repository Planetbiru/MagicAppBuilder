let modified=!0,cmEditorModule=null,cmEditorFile=null,cmEditorSQL=null,transEd1=null,transEd2=null,transEd3=null,transEd4=null,currentTab="",lastLine1=-1,lastLine2=-1,focused={};function format(){let t=cmEditorModule.lineCount();cmEditorModule.autoFormatRange({line:0,ch:0},{line:t});let e=cmEditorFile.lineCount();cmEditorFile.autoFormatRange({line:0,ch:0},{line:e});let i=cmEditorFile.lineCount();cmEditorSQL.autoFormatRange({line:0,ch:0},{line:i});let n=transEd1.lineCount(),r=transEd2.lineCount();transEd1.autoFormatRange({line:0,ch:0},{line:n}),transEd2.autoFormatRange({line:0,ch:0},{line:r});let a=transEd3.lineCount(),l=transEd4.lineCount();transEd3.autoFormatRange({line:0,ch:0},{line:a}),transEd4.autoFormatRange({line:0,ch:0},{line:l})}function isHidden(t){return"none"==t.display||"hidden"==t.visibility}function hilightLine1(){var t=transEd1.getCursor().line;transEd1.removeLineClass(lastLine1,"background","highlight-line"),transEd2.removeLineClass(lastLine1,"background","highlight-line"),transEd2.addLineClass(t,"background","highlight-line"),transEd1.addLineClass(t,"background","highlight-line"),lastLine1=t}function hilightLine2(){var t=transEd2.getCursor().line;transEd1.removeLineClass(lastLine1,"background","highlight-line"),transEd2.removeLineClass(lastLine1,"background","highlight-line"),transEd2.addLineClass(t,"background","highlight-line"),transEd1.addLineClass(t,"background","highlight-line"),lastLine1=t}function hilightLine3(){var t=transEd3.getCursor().line;transEd3.removeLineClass(lastLine1,"background","highlight-line"),transEd4.removeLineClass(lastLine1,"background","highlight-line"),transEd4.addLineClass(t,"background","highlight-line"),transEd3.addLineClass(t,"background","highlight-line"),lastLine1=t}function hilightLine4(){var t=transEd4.getCursor().line;transEd3.removeLineClass(lastLine1,"background","highlight-line"),transEd4.removeLineClass(lastLine1,"background","highlight-line"),transEd4.addLineClass(t,"background","highlight-line"),transEd3.addLineClass(t,"background","highlight-line"),lastLine1=t}$(document).ready(function(){$("#maintab").on("shown.bs.tab",function(t){var e=$(t.target).attr("id");currentTab=e,"entity-file-tab"==e&&(cmEditorFile.focus(),cmEditorFile.refresh()),"entity-query-tab"==e&&(cmEditorSQL.focus(),cmEditorSQL.refresh()),"translate-entity-tab"==e&&(transEd1.refresh(),transEd2.refresh()),"translate-application-tab"==e&&(transEd3.refresh(),transEd4.refresh())}),$(document).on("keydown",function(t){return"115"!=t.which&&"83"!=t.which||!t.ctrlKey&&!t.metaKey||(t.preventDefault(),"module-file-tab"==currentTab&&saveModule(),"entity-file-tab"==currentTab&&saveEntity(),"entity-query-tab"==currentTab&&saveQuery(),!1)}),CodeMirror.modeURL="lib.assets/cm/mode/%N/%N.js",cmEditorModule=CodeMirror.fromTextArea(document.querySelector(".module-file"),{lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,indentUnit:4,indentWithTabs:!0,extraKeys:{"Ctrl-S":function(t){saveModule()}}}),cmEditorFile=CodeMirror.fromTextArea(document.querySelector(".entity-file"),{lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,indentUnit:4,indentWithTabs:!0}),cmEditorSQL=CodeMirror.fromTextArea(document.querySelector(".entity-query"),{lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,indentUnit:4,indentWithTabs:!0}),transEd1=CodeMirror.fromTextArea(document.querySelector(".entity-translate-original"),{lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,indentUnit:4,indentWithTabs:!0,readOnly:!0}),transEd2=CodeMirror.fromTextArea(document.querySelector(".entity-translate-target"),{lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,indentUnit:4,indentWithTabs:!0}),transEd1.on("focus",function(){focused.transEd1=!0,hilightLine1()}),transEd2.on("focus",function(){focused.transEd2=!0,hilightLine2()}),transEd1.on("cursorActivity",function(){void 0!==focused.transEd1&&hilightLine1()}),transEd2.on("cursorActivity",function(){void 0!==focused.transEd2&&hilightLine2()}),transEd3=CodeMirror.fromTextArea(document.querySelector(".module-translate-original"),{lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,indentUnit:4,indentWithTabs:!0,readOnly:!0}),transEd4=CodeMirror.fromTextArea(document.querySelector(".module-translate-target"),{lineNumbers:!0,lineWrapping:!0,matchBrackets:!0,indentUnit:4,indentWithTabs:!0}),transEd3.on("focus",function(){focused.transEd3=!0,hilightLine3()}),transEd4.on("focus",function(){focused.transEd4=!0,hilightLine4()}),transEd3.on("cursorActivity",function(){void 0!==focused.transEd3&&hilightLine3()}),transEd4.on("cursorActivity",function(){void 0!==focused.transEd4&&hilightLine4()});let t,e,i=CodeMirror.findModeByExtension("php");t=i.mode,e=i.mime,t&&(cmEditorModule.setOption("mode",e),CodeMirror.autoLoadMode(cmEditorModule,t),setTimeout(function(){cmEditorModule.refresh()},1));let n,r,a=CodeMirror.findModeByExtension("php");n=a.mode,r=a.mime,n&&(cmEditorFile.setOption("mode",r),CodeMirror.autoLoadMode(cmEditorFile,n),setTimeout(function(){cmEditorFile.refresh()},1));let l,o,d=CodeMirror.findModeByExtension("sql");l=d.mode,o=d.mime,l&&(cmEditorSQL.setOption("mode",o),CodeMirror.autoLoadMode(cmEditorSQL,l),setTimeout(function(){cmEditorSQL.refresh()},1))});